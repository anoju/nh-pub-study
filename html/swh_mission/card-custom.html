<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=450" />
    <title>card-custom</title>
    <link href="../../css/swh.min.css" rel="stylesheet" />
  </head>
  <body>
    <div class="custom-card">
      <div class="head">
        <ul>
          <li><button class="reset">초기화</button></li>
        </ul>
      </div>
      <div class="body">
        <div class="card-wrap">
          <div class="card">
            <!-- <div class="drag-item select">
          <img src="./img/ico_internet.png" alt="">
          <button class="del">삭제</button>
          <button class="size">크기</button>
          <button class="rotate">회전</button>
        </div> -->
          </div>
          <div class="card-btn">
            <button class="save">SAVE</button>
            <a id="imageDown" hidden>이미지 다운로드</a>
          </div>
        </div>
      </div>
      <div class="foot">
        <dl>
          <dt>BG</dt>
          <dd>
            <div class="color-wrap">
              <div class="color-item">
                <input type="color" class="color" value="#ffffff" />
                <input type="number" class="per" />%
              </div>
              <button class="color-add">추가</button>
            </div>
          </dd>
        </dl>
        <dl>
          <dt>BG 방향</dt>
          <dd>
            <input type="range" class="range" value="0" min="0" max="360" step="1" disabled />
          </dd>
        </dl>
        <dl>
          <dt>BG image</dt>
          <dd>
            <input type="file" class="file" accept="image/png, image/jpeg, image/jpg" />
            <button class="file-del">이미지 삭제</button>
          </dd>
        </dl>
      </div>
    </div>
    <div id="deerTest">1</div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
      //https://anoju.github.io/htmlUI/card-custom/index.html
      function customCard() {
        function customAry() {
          const _ImgAry = ['./img/ico_internet.png', './img/ico_memo_4.png', './img/ico_memo_5.png', './img/ico_memo_6.png', './img/ico_memo_7.png', './img/ico_memo_8.png', './img/ico_memo_10.png', './img/ico_memo_13.png', './img/ico_memo_14.png', './img/ico_memo_15.png', './img/ico_memo_17.png', './img/ico_memo_20.png'];
          let _html = '';
          $.each(_ImgAry, function (idx, el) {
            _html += '<li><button><div class="inner"><img src="' + el + '" alt=""></div></button></li>';
          });
          $('.head ul').append(_html);
        }
        customAry();
        function clickClone() {
          $('.head ul li button').on('click', function (e) {
            e.preventDefault();
            if ($(this).hasClass('reset')) return $('.card').html('');
          });

          $('.head ul').on('click', '.inner', function (e) {
            e.preventDefault();
            const _target = $(this).closest('.inner');
            const _clone = $(_target).clone();
            if (!_target) return;
            $('.card').append(_clone);
            $(_clone).wrap('<div class="drag-item"></div>').css('width', '98px');
          });
        }
        clickClone();
        function cardBg() {
          $('.color').on('input', function () {
            let _inputVal = $('.color').prop('value');
            $('.card').css('background-color', _inputVal);
            console.log(_inputVal);
          });
        }
        cardBg();
      }

      customCard();
    </script>
  </body>
</html>
